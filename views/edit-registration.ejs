<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Registration | Robolution Admin</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <script src="/js/script.js" defer></script>
  <script src="/js/mobile.js" defer></script>
  <style>
    /* Set background to white */
    body, main {
      background-color: #ffffff;
      background-image: none;
    }
    
    .edit-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 120px 20px 40px;
    }
    
    .edit-card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      padding: 30px;
      margin-bottom: 30px;
    }
    
    .edit-header {
      margin-bottom: 30px;
      border-bottom: 2px solid #00008b;
      padding-bottom: 15px;
    }
    
    .edit-title {
      font-size: 1.8rem;
      color: #00008b;
      margin: 0;
    }
    
    .form-section {
      margin-bottom: 30px;
    }
    
    .section-title {
      font-size: 1.3rem;
      color: #00008b;
      margin-bottom: 20px;
      border-bottom: 1px solid #e0e0e0;
      padding-bottom: 8px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #333;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
    }
    
    textarea.form-control {
      min-height: 100px;
    }
    
    .checkbox-group {
      display: flex;
      align-items: center;
    }
    
    .checkbox-group input[type="checkbox"] {
      margin-right: 10px;
    }
    
    .competitions-group {
      margin-top: 15px;
    }
    
    .competition-item {
      margin-bottom: 10px;
    }
    
    .competition-item label {
      font-weight: normal;
      display: inline-flex;
      align-items: center;
    }
    
    .competition-item input[type="checkbox"] {
      margin-right: 8px;
    }
    
    .action-bar {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
    }
    
    .action-button {
      padding: 10px 20px;
      background-color: #00008b;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      margin-right: 10px;
      font-size: 1rem;
      transition: background-color 0.2s;
    }
    
    .action-button:hover {
      background-color: #0000cd;
    }
    
    .action-button.cancel {
      background-color: #6c757d;
    }
    
    .action-button.cancel:hover {
      background-color: #5a6268;
    }
    
    .payment-link {
      display: block;
      margin-top: 10px;
    }
    
    @media (max-width: 768px) {
      .action-bar {
        flex-direction: column;
        gap: 10px;
      }
      
      .action-button {
        width: 100%;
        margin-right: 0;
        text-align: center;
      }
    }
  </style>
</head>
<body>
<div class="content-wrapper">

  <header>
    <div class="header-content">
      <img src="/images/LOGO.webp" alt="Robolution Logo" class="logo">
      <nav class="header-nav">
        <a href="/create-post" class="nav-button">Create Post</a>
        <a href="/index" class="nav-button">News</a>
        <a href="/categories" class="nav-button">Categories</a>
        <a href="/manage-categories" class="nav-button">Manage Categories</a>
        <a href="/manage-registrations" class="nav-button">Registrations</a>
        <a href="/logout" class="nav-button">Logout</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="edit-container">
      <div class="edit-card">
        <div class="edit-header">
          <h1 class="edit-title">Edit Registration</h1>
        </div>
        
        <form action="/registration/edit/<%= registration._id %>" method="POST">
          <div class="form-section">
            <h2 class="section-title">Personal Information</h2>
            
            <div class="form-group">
              <label for="fullname">Full Name</label>
              <input type="text" id="fullname" name="fullname" class="form-control" value="<%= registration.fullname %>" required>
            </div>
            
            <div class="form-group">
              <label for="teamMembers">Team Members</label>
              <textarea id="teamMembers" name="teamMembers" class="form-control"><%= registration.teamMembers || '' %></textarea>
              <small>List team members, one per line (if applicable)</small>
            </div>
            
            <div class="form-group">
              <label for="category">Category</label>
              <select id="category" name="category" class="form-control" required>
                <option value="Student" <%= registration.category === 'Student' ? 'selected' : '' %>>Student</option>
                <option value="Professional" <%= registration.category === 'Professional' ? 'selected' : '' %>>Professional</option>
                <option value="Team" <%= registration.category === 'Team' ? 'selected' : '' %>>Team</option>
                <option value="College/Post-Graduate/Industry" <%= registration.category === 'College/Post-Graduate/Industry' ? 'selected' : '' %>>College/Post-Graduate/Industry</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="school">School/Organization</label>
              <input type="text" id="school" name="school" class="form-control" value="<%= registration.school || '' %>">
            </div>
            
            <div class="form-group">
              <label for="address">Address</label>
              <textarea id="address" name="address" class="form-control" required><%= registration.address %></textarea>
            </div>
            
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" class="form-control" value="<%= registration.email %>" required>
            </div>
          </div>
          
          <div class="form-section">
            <h2 class="section-title">Registration Details</h2>
            
            <div class="form-group">
              <label for="workshop">Workshop</label>
              <select id="workshop" name="workshop" class="form-control" required>
                <option value="SEMINAR-ROBOTICS" <%= registration.workshop === 'SEMINAR-ROBOTICS' ? 'selected' : '' %>>Robotics</option>
                <option value="SEMINAR-AI" <%= registration.workshop === 'SEMINAR-AI' ? 'selected' : '' %>>AI</option>
                <option value="SEMINAR-IoT" <%= registration.workshop === 'SEMINAR-IoT' ? 'selected' : '' %>>IoT</option>
                <option value="OTHER" <%= registration.workshop === 'OTHER' ? 'selected' : '' %>>Other</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="other_workshop">Other Workshop (if selected "Other")</label>
              <input type="text" id="other_workshop" name="other_workshop" class="form-control" value="<%= registration.other_workshop || '' %>">
            </div>
            
            <div class="form-group">
              <label>Competitions</label>
              <div class="competitions-group">
                <div class="competition-item">
                  <label>
                    <input type="checkbox" name="competition" value="E-ROBOT-COLLEGE" 
                      <%= registration.competition && registration.competition.includes('E-ROBOT-COLLEGE') ? 'checked' : '' %>>
                    E-ROBOT-COLLEGE
                  </label>
                </div>
                <div class="competition-item">
                  <label>
                    <input type="checkbox" name="competition" value="E-ROBOT-INDUSTRY" 
                      <%= registration.competition && registration.competition.includes('E-ROBOT-INDUSTRY') ? 'checked' : '' %>>
                    E-ROBOT-INDUSTRY
                  </label>
                </div>
                <div class="competition-item">
                  <label>
                    <input type="checkbox" name="competition" value="AI-COMPETITION" 
                      <%= registration.competition && registration.competition.includes('AI-COMPETITION') ? 'checked' : '' %>>
                    AI-COMPETITION
                  </label>
                </div>
                <div class="competition-item">
                  <label>
                    <input type="checkbox" name="competition" value="IoT-COMPETITION" 
                      <%= registration.competition && registration.competition.includes('IoT-COMPETITION') ? 'checked' : '' %>>
                    IoT-COMPETITION
                  </label>
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label for="other_competition">Other Competition</label>
              <input type="text" id="other_competition" name="other_competition" class="form-control" value="<%= registration.other_competition || '' %>">
            </div>
            
            <div class="form-group">
              <label for="code">Code (if any)</label>
              <input type="text" id="code" name="code" class="form-control" value="<%= registration.code || '' %>">
            </div>
          </div>
          
          <div class="form-section">
            <h2 class="section-title">Payment Information</h2>
            
            <div class="form-group">
              <label for="payment_details">Payment Details</label>
              <textarea id="payment_details" name="payment_details" class="form-control"><%= registration.payment_details || '' %></textarea>
            </div>
            
            <% if (registration.paymentProofUrl) { %>
            <div class="form-group">
              <label>Payment Proof</label>
              <a href="<%= registration.paymentProofUrl %>" target="_blank" class="payment-link">View Payment Proof</a>
            </div>
            <% } %>
            
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="verified" name="verified" <%= registration.verified ? 'checked' : '' %>>
                <label for="verified">Verified</label>
              </div>
            </div>
          </div>
          
          <div class="action-bar">
            <a href="/registration/<%= registration._id %>" class="action-button cancel">Cancel</a>
            <button type="submit" class="action-button">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <footer class="fixed-footer">
    <div class="footer-content">
      <div class="footer-left">
        <p>Powered by Erovoutika</p>
      </div>
      <div class="footer-right">
        <p>Unit 703, PARC HOUSE II, Epifanio de los Santos Ave, Makati, 1212 Metro Manila</p>
        <p><strong>Contact us via:</strong> 0974 423 1557 || erovoutika@gmail.com</p>
        <div class="social-icons">
          <a href="https://www.facebook.com/erovoutika" target="_blank" class="social-icon">f</a>
          <a href="https://www.erovoutika.ph" target="_blank" class="social-icon">↗</a>
          <a href="https://www.linkedin.com/company/erovoutika/" target="_blank" class="social-icon">in</a>
        </div>
      </div>
    </div>
  </footer>
</div>
</body>
</html> 